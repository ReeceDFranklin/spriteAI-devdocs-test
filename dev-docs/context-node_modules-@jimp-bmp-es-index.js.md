

  

  
---
# toAGBR node_modules/@jimp/bmp/es/index.js
## Imported Code Object
The `toAGBR` function in this code snippet is transforming an image's pixel data from the RGBA (Red, Green, Blue, Alpha) color format to the AGBR (Alpha, Green, Blue, Red) format. Here's what it does:

1. It scans through each pixel of the image.
2. For each pixel, it reads the RGBA values.
3. It then rearranges these values, writing them back in AGBR order:
   - Alpha becomes the first channel
   - Blue becomes the second channel
   - Green becomes the third channel
   - Red becomes the fourth channel

This transformation changes the way the image data is stored, which can be useful for certain image processing operations or when working with specific file formats that expect data in this order.

### Third Party Libaries

The `toAGBR` function itself doesn't directly use any third-party APIs or libraries, but it appears to be using a `scan` function and accessing a `bitmap` property, which suggests it's likely part of or working with an image processing library like Jimp.

### Code Example

Certainly! Here's a brief code example of how to use the `toAGBR` function:

```javascript
const Jimp = require('jimp');

// Function to convert image to AGBR format
function toAGBR(image) {
  return scan(image, 0, 0, image.bitmap.width, image.bitmap.height, function (x, y, index) {
    const red = this.bitmap.data[index + 0];
    const green = this.bitmap.data[index + 1];
    const blue = this.bitmap.data[index + 2];
    const alpha = this.bitmap.data[index + 3];
    this.bitmap.data[index + 0] = alpha;
    this.bitmap.data[index + 1] = blue;
    this.bitmap.data[index + 2] = green;
    this.bitmap.data[index + 3] = red;
  }).bitmap;
}

// Example usage
Jimp.read('path/to/your/image.jpg')
  .then(image => {
    // Convert the image to AGBR format
    const agbrBitmap = toAGBR(image);

    // Create a new Jimp image from the AGBR bitmap
    const agbrImage = new Jimp(agbrBitmap);

    // Save the AGBR image
    return agbrImage.writeAsync('path/to/output/agbr_image.png');
  })
  .then(() => {
    console.log('AGBR image saved successfully');
  })
  .catch(err => {
    console.error('An error occurred:', err);
  });
```

In this example:

1. We import the Jimp library, which is required for image processing.
2. We define the `toAGBR` function as provided in your original code.
3. We use `Jimp.read()` to load an image file.
4. Once the image is loaded, we call the `toAGBR` function to convert it to AGBR format.
5. We create a new Jimp image from the resulting AGBR bitmap.
6. We save the AGBR image to a file.
7. We handle any errors that might occur during the process.

Make sure to replace `'path/to/your/image.jpg'` with the actual path to your input image, and `'path/to/output/agbr_image.png'` with the desired output path and filename.

Also, ensure that you have the Jimp library installed in your project (`npm install jimp`) before running this code.

# fromAGBR node_modules/@jimp/bmp/es/index.js
## Imported Code Object
The `fromAGBR` function is designed to convert an image from the AGBR (Alpha, Green, Blue, Red) color format to the more standard RGBA (Red, Green, Blue, Alpha) format. Here's what it does:

1. It takes a `bitmap` object as input.
2. It uses a `scan` function (not shown in the snippet) to iterate over each pixel of the image.
3. For each pixel, it:
   - Reads the AGBR values from the bitmap data.
   - Rearranges these values to RGBA order.
   - Writes the rearranged values back to the bitmap data.
4. If the original bitmap has an alpha channel, it preserves it; otherwise, it sets full opacity (0xff).
5. Finally, it returns the modified bitmap with the color channels now in RGBA order.

This function is useful when dealing with image data that's in the less common AGBR format and needs to be converted to the more widely used RGBA format.

### Third Party Libaries

undefined

### Code Example

undefined

---
# decode node_modules/@jimp/bmp/es/index.js
## Imported Code Object
undefined

### Third Party Libaries

No, this function does not directly use any third-party APIs or libraries. It appears to be using custom or pre-defined functions `fromAGBR` and `BMP.decode`, but these are not standard third-party libraries.

### Code Example

undefined


  

  