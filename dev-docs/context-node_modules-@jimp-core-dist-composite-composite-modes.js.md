

  
---
# srcOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `srcOver` function in this code snippet implements the "source over" alpha compositing operation, which is a common method for blending two images or colors with transparency. Here's a concise explanation:

1. It takes a source color (`src`) and a destination color (`dst`), both with alpha channels.
2. An optional opacity parameter (`ops`) can be provided to adjust the source alpha.
3. It calculates the resulting color by blending the source and destination based on their alpha values.
4. The function returns a new color object with the blended RGBA values.

This operation is typically used in computer graphics and image processing to combine partially transparent layers or elements.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it's a pure JavaScript implementation of the "source over" alpha compositing operation using basic arithmetic calculations.

### Code Example

Certainly! Here's a brief example of how to use the `srcOver` function:

```javascript
// Define two colors: source and destination
const sourceColor = { r: 255, g: 0, b: 0, a: 0.5 }; // Semi-transparent red
const destColor = { r: 0, g: 0, b: 255, a: 1 }; // Opaque blue

// Call the srcOver function
const result = srcOver(sourceColor, destColor);

// Log the result
console.log(result);
```

In this example:

1. We define two colors:
   - `sourceColor`: A semi-transparent red (rgba(255, 0, 0, 0.5))
   - `destColor`: An opaque blue (rgba(0, 0, 255, 1))

2. We call the `srcOver` function with these two colors as arguments.

3. The function calculates the result of blending the source color over the destination color.

4. We log the result, which will be an object containing the r, g, b, and a values of the resulting color.

You can also use the optional third parameter `ops` to adjust the opacity of the source color before blending:

```javascript
const result = srcOver(sourceColor, destColor, 0.8);
```

This would reduce the opacity of the source color to 80% of its original value before blending.

Remember that this function implements the "source over destination" blending mode, which is a common alpha compositing operation where the source color is placed over the destination color, taking into account the alpha values of both colors.

---
# dstOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
undefined

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses basic JavaScript operations and math calculations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `dstOver` function:

```javascript
// Define two color objects with RGBA values
const sourceColor = { r: 255, g: 0, b: 0, a: 0.5 }; // Semi-transparent red
const destinationColor = { r: 0, g: 0, b: 255, a: 1 }; // Opaque blue

// Call the dstOver function
const result = dstOver(sourceColor, destinationColor);

// Log the result
console.log(result);
```

In this example:

1. We define two color objects: `sourceColor` (semi-transparent red) and `destinationColor` (opaque blue).

2. We call the `dstOver` function, passing `sourceColor` as the source and `destinationColor` as the destination.

3. The function performs the destination-over compositing operation and returns the resulting color.

4. We log the result to the console.

The `dstOver` function implements the "destination-over" compositing operation, where the source color is composited behind the destination color. The resulting color will be a blend of the two input colors, with the destination color appearing on top of the source color.

Note that the third parameter `ops` is optional and defaults to 1 if not provided. You can include it if you want to adjust the opacity of the source color before compositing:

```javascript
const result = dstOver(sourceColor, destinationColor, 0.8); // Reduce source opacity to 80%
```

This would reduce the opacity of the source color to 80% before performing the compositing operation.

---
# multiply node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
undefined

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses basic JavaScript arithmetic operations and object manipulation.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `multiply` function:

```javascript
// Define source and destination color objects
const src = { r: 0.8, g: 0.6, b: 0.4, a: 0.7 };
const dst = { r: 0.5, g: 0.3, b: 0.2, a: 0.9 };

// Call the multiply function
const result = multiply(src, dst);

// Log the result
console.log(result);

// You can also use the optional 'ops' parameter
const resultWithOps = multiply(src, dst, 0.5);
console.log(resultWithOps);
```

In this example:

1. We define two color objects, `src` and `dst`, each with `r`, `g`, `b`, and `a` properties representing red, green, blue, and alpha values respectively. These values should be in the range of 0 to 1.

2. We call the `multiply` function with `src` and `dst` as arguments. This will perform the multiplication blend operation.

3. The result is stored in the `result` variable, which will be an object with `r`, `g`, `b`, and `a` properties representing the blended color.

4. We log the result to the console to see the output.

5. We also demonstrate using the optional `ops` parameter by calling the function again with a value of 0.5. This will affect how the source alpha is scaled before blending.

Remember that this function is designed to work with color values in the range of 0 to 1. If you're working with 8-bit color values (0-255), you'll need to normalize them before passing them to this function and denormalize the result afterwards.

---
# add node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
In this code snippet, `add` is a function that performs color addition or blending between two colors, typically used in image processing or graphics operations. Here's a concise explanation:

1. It takes two color objects (`src` and `dst`) as input, each with `r`, `g`, `b`, and `a` properties representing red, green, blue, and alpha (opacity) values.

2. An optional `ops` parameter allows for scaling the source color's alpha.

3. It calculates a new alpha value `a` based on the source and destination alphas.

4. It then computes new red, green, and blue values by combining the source and destination colors, weighted by their respective alpha values.

5. The function returns a new color object with the blended `r`, `g`, `b`, and `a` values.

This implementation appears to be using a specific blending algorithm, possibly for additive blending or alpha compositing in a graphics context.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses JavaScript's built-in language features and arithmetic operations.

### Code Example

undefined

---
# screen node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
This code snippet implements the "Screen" blending mode, which is commonly used in image processing and graphics applications. Here's a concise explanation:

The "Screen" blending mode:
1. Lightens the overall image by inverting, multiplying, and then inverting again.
2. Always produces a lighter result than the original images.
3. Useful for brightening and adding highlights to images.

The function takes two color objects (src and dst) with r, g, b, and a components, and an optional opacity parameter (ops). It calculates the resulting color by:
1. Adjusting the source alpha by the opacity.
2. Computing the final alpha value.
3. Calculating new r, g, and b values using the Screen blend formula.
4. Returning a new color object with the blended values.

This implementation accounts for alpha transparency in both source and destination colors, making it suitable for use with partially transparent images or layers.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it appears to be a self-contained implementation of a screen blending mode using basic JavaScript operations.

### Code Example

undefined

---
# overlay node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
In this code snippet, the `overlay` function implements the "Overlay" blending mode, which is a common technique used in image processing and graphics.

The Overlay blend mode combines two layers (source and destination) in a way that preserves the highlights and shadows of the base layer while mixing the colors of both layers. It's often described as a combination of the "Screen" and "Multiply" blend modes.

Here's a concise explanation of how the Overlay mode works in this function:

1. It adjusts the source layer's alpha (opacity) based on the `ops` parameter.
2. It calculates the final alpha value considering both layers.
3. For each color channel (R, G, B):
   - If the destination color is dark (value <= 0.5), it multiplies the source and destination.
   - If the destination color is light (value > 0.5), it uses a screen-like operation.
4. The function returns the resulting color with its new alpha value.

This implementation creates a contrast-increasing effect, making light areas lighter and dark areas darker while blending the colors of both layers.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it's a self-contained implementation using only JavaScript's built-in features and arithmetic operations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `overlay` function:

```javascript
// Define two colors: source and destination
const sourceColor = { r: 1.0, g: 0.5, b: 0.2, a: 0.8 };
const destinationColor = { r: 0.3, g: 0.7, b: 0.9, a: 1.0 };

// Call the overlay function
const result = overlay(sourceColor, destinationColor);

// Optional: Specify opacity (third parameter)
// const result = overlay(sourceColor, destinationColor, 0.5);

// Log the resulting color
console.log("Resulting color:", result);
```

In this example:

1. We define two colors: `sourceColor` and `destinationColor`. Each color is represented as an object with `r`, `g`, `b`, and `a` properties (red, green, blue, and alpha, respectively). These values should be in the range of 0 to 1.

2. We call the `overlay` function, passing the source and destination colors as arguments.

3. Optionally, you can specify a third parameter for opacity. If not provided, it defaults to 1.

4. The function returns a new color object with the result of the overlay operation.

5. We log the resulting color to the console.

This code will blend the source color over the destination color using the overlay blending mode. The resulting color will be a combination of the two input colors based on the overlay algorithm implemented in the function.

Remember that this function works with color values in the range of 0 to 1. If you're working with standard 0-255 RGB values, you'll need to normalize them to 0-1 before passing them to the function, and then scale the result back to 0-255 if needed.

---
# darken node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `darken` function in this code snippet is implementing a blending operation that creates a darker result when combining two colors (source and destination). Here's a concise explanation:

1. It takes two color objects (`src` and `dst`) and an optional opacity parameter (`ops`).
2. It adjusts the source alpha based on the opacity.
3. It calculates a new alpha value considering both source and destination alphas.
4. It computes pre-multiplied color values for both source and destination.
5. For each color channel (r, g, b), it:
   - Takes the minimum of the source and destination colors multiplied by their respective alphas.
   - Adds the contribution of the source color where the destination is transparent.
   - Adds the contribution of the destination color where the source is transparent.
   - Divides by the new alpha to get the final color value.
6. It returns an object with the new r, g, b, and a values.

This blending mode tends to produce darker results, especially where the source color is darker than the destination color.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses built-in JavaScript math operations and object manipulation.

### Code Example

undefined


  