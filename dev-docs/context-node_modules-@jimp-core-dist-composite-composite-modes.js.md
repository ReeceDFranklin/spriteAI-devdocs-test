

  

  
---
# srcOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `srcOver` function in this code snippet implements the "source over" alpha compositing operation. This is a common blending mode used in computer graphics to combine a source image (src) with a destination image (dst).

Here's a concise explanation:

1. It takes two color objects (src and dst) with r, g, b, and a components.
2. An optional opacity parameter (ops) can be provided to adjust the source alpha.
3. It calculates the new alpha value by combining the source and destination alphas.
4. For each color channel (r, g, b), it computes the blended value using the formula:
   (src_color * src_alpha + dst_color * dst_alpha * (1 - src_alpha)) / new_alpha
5. This formula ensures that the source color is placed "over" the destination color, taking into account the alpha values of both.
6. The function returns a new color object with the blended r, g, b, and a values.

This operation is commonly used in image editing and rendering to combine layers or draw partially transparent objects over a background.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses standard JavaScript syntax and arithmetic operations to perform color blending calculations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `srcOver` function:

```javascript
// Define source and destination colors
const sourceColor = { r: 255, g: 0, b: 0, a: 0.5 }; // Semi-transparent red
const destColor = { r: 0, g: 0, b: 255, a: 1 }; // Opaque blue

// Call the srcOver function
const resultColor = srcOver(sourceColor, destColor);

// Log the result
console.log("Resulting color:", resultColor);

// You can also specify an optional opacity value (default is 1)
const resultWithCustomOpacity = srcOver(sourceColor, destColor, 0.8);
console.log("Result with custom opacity:", resultWithCustomOpacity);
```

In this example:

1. We define two colors: a semi-transparent red (`sourceColor`) and an opaque blue (`destColor`).
2. We call the `srcOver` function with these two colors as arguments.
3. The function returns the resulting color after applying the source-over blending operation.
4. We log the result to the console.
5. We also demonstrate how to use the optional third parameter to adjust the opacity of the source color before blending.

The `srcOver` function implements the "source over destination" blending mode, which is a common compositing operation. It calculates how the source color should be blended on top of the destination color, taking into account the alpha (transparency) values of both colors.

When you run this code, you'll see the resulting color values printed to the console. The exact values will depend on the input colors, but they will represent the color you'd see if you were to overlay the semi-transparent red on top of the blue.

# dstOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
Certainly! Here's a concise explanation of the `dstOver` function:

The `dstOver` function implements the "destination-over" alpha compositing operation. This operation combines two colors (source and destination) by placing the source color behind the destination color. The resulting color is calculated based on the alpha values of both colors.

The function takes three parameters:
1. `src`: The source color object with r, g, b, and a components.
2. `dst`: The destination color object with r, g, b, and a components.
3. `ops` (optional): An opacity factor for the source color, defaulting to 1.

It calculates the new alpha value and the new RGB values based on the alpha compositing formula for "destination-over" blending. The function then returns an object with the resulting r, g, b, and a values.

This operation is useful in graphics programming for layering semi-transparent colors or images.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it appears to be a pure JavaScript implementation of a blending operation using basic arithmetic operations.

### Code Example

undefined

---
# multiply node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
In this code snippet, `multiply` is a function that performs a blending operation between two colors (source and destination) using the multiply blend mode. Here's a concise explanation:

1. It takes two color objects (`src` and `dst`) as input, each with `r`, `g`, `b`, and `a` properties representing red, green, blue, and alpha values.

2. An optional `ops` parameter is included, defaulting to 1 if not provided.

3. The function adjusts the source alpha value by multiplying it with `ops`.

4. It then calculates the resulting alpha value and the new RGB values using a formula that combines the source and destination colors.

5. The calculation takes into account both the color values and their alpha channels, ensuring proper blending.

6. Finally, it returns a new color object with the calculated `r`, `g`, `b`, and `a` values.

This function essentially implements the multiply blend mode, which is commonly used in image processing and graphics applications to create darker blended colors.

### Third Party Libaries

undefined

### Code Example

undefined

---
# add node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
In this code snippet, `add` is a function that performs color blending using the "add" blending mode. Here's a concise explanation:

1. It takes two color objects (`src` and `dst`) and an optional `ops` parameter.
2. It multiplies the source alpha by `ops`.
3. It calculates a new alpha value `a` by combining source and destination alphas.
4. It calculates pre-multiplied color values for both source and destination.
5. It combines the colors by adding their pre-multiplied values and dividing by the new alpha.
6. Finally, it returns a new color object with the blended values.

This function essentially adds the source color to the destination color, taking into account their alpha values and the optional `ops` parameter for adjusting the source alpha strength.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses native JavaScript functionality.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `add` function:

```javascript
// Define two color objects with RGBA values
const color1 = { r: 0.5, g: 0.3, b: 0.7, a: 0.8 };
const color2 = { r: 0.2, g: 0.6, b: 0.4, a: 0.5 };

// Call the add function with the two color objects
const result = add(color1, color2);

// Log the result
console.log(result);

// You can also specify an optional opacity value (ops)
const resultWithOpacity = add(color1, color2, 0.7);

console.log(resultWithOpacity);
```

In this example:

1. We define two color objects (`color1` and `color2`) with red, green, blue, and alpha values.

2. We call the `add` function, passing `color1` as the source (`src`) and `color2` as the destination (`dst`).

3. The function returns a new color object with the result of the addition blend mode applied.

4. We log the result to the console.

5. We also demonstrate how to use the optional third parameter (`ops`) to adjust the opacity of the source color before blending.

Remember that this function expects color values to be in the range of 0 to 1, not 0 to 255. If your color values are in a different range, you'll need to normalize them before using this function.

---
# screen node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `screen` function in this code snippet implements the Screen blending mode, which is commonly used in image processing and graphics applications. Here's a concise explanation:

1. It takes two inputs: `src` (source color) and `dst` (destination color), both with RGBA components.
2. An optional `ops` parameter controls the opacity of the source color.
3. It calculates the resulting alpha channel by combining the source and destination alpha values.
4. For each color channel (R, G, B), it applies the Screen blending formula:
   Result = 1 - (1 - Source) * (1 - Destination)
5. The function handles pre-multiplied alpha values and normalizes the results.
6. It returns an object with the resulting RGBA values after blending.

The Screen blend mode typically lightens the image, making it useful for creating bright, glowing effects or simulating light overlays.

### Third Party Libaries

undefined

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `screen` function:

```javascript
// Define two color objects representing the source and destination colors
const sourceColor = { r: 0.8, g: 0.5, b: 0.2, a: 0.7 };
const destColor = { r: 0.3, g: 0.6, b: 0.9, a: 0.8 };

// Call the screen function with the source and destination colors
const result = screen(sourceColor, destColor);

// Log the resulting color
console.log("Resulting color:");
console.log(`R: ${result.r.toFixed(2)}`);
console.log(`G: ${result.g.toFixed(2)}`);
console.log(`B: ${result.b.toFixed(2)}`);
console.log(`A: ${result.a.toFixed(2)}`);

// Optionally, you can provide a third argument for the opacity
const resultWithOpacity = screen(sourceColor, destColor, 0.5);

console.log("\nResulting color with custom opacity:");
console.log(`R: ${resultWithOpacity.r.toFixed(2)}`);
console.log(`G: ${resultWithOpacity.g.toFixed(2)}`);
console.log(`B: ${resultWithOpacity.b.toFixed(2)}`);
console.log(`A: ${resultWithOpacity.a.toFixed(2)}`);
```

In this example:

1. We define two color objects, `sourceColor` and `destColor`, each with `r`, `g`, `b`, and `a` properties representing the red, green, blue, and alpha channels respectively. The values should be between 0 and 1.

2. We call the `screen` function with `sourceColor` and `destColor` as arguments and store the result in the `result` variable.

3. We log the resulting color values, rounding them to two decimal places for readability.

4. We demonstrate the optional third argument by calling `screen` again with an opacity value of 0.5 and log the results.

This code shows how to use the `screen` function to blend two colors using the screen blending mode, with an optional opacity parameter. The function returns a new color object with the blended values.

---
# overlay node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `overlay` function in this code snippet implements the Overlay blending mode, which is a common technique used in image processing and graphics.

Here's a concise explanation:

1. The function takes two color objects (`src` and `dst`) and an optional opacity parameter (`ops`).

2. It applies the Overlay blend mode formula to combine the source and destination colors.

3. The Overlay mode increases contrast by darkening dark areas and lightening light areas.

4. For each color channel (r, g, b):
   - If the destination color is dark (≤ 0.5), it multiplies the colors.
   - If the destination color is light (> 0.5), it uses a screen-like operation.

5. The alpha channel is also considered in the calculations to handle transparency.

6. The result is a new color object with the blended values for r, g, b, and a.

This blending mode is often used to enhance contrast and create more vibrant composites in image editing applications.

### Third Party Libaries

The provided overlay function does not use any third-party APIs or libraries; it's a self-contained function using only JavaScript's built-in features and arithmetic operations.

### Code Example

undefined

---
# darken node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `darken` function in this code snippet is implementing a color blending operation known as "Darken" mode. Here's a concise explanation:

1. It takes two colors (`src` and `dst`) and an optional opacity parameter (`ops`).
2. It adjusts the source color's alpha (opacity) based on the `ops` parameter.
3. It calculates a new alpha value considering both source and destination colors.
4. It computes new red, green, and blue values by:
   - Taking the minimum of the source and destination color components (darkening effect)
   - Accounting for partial transparency in both colors
   - Normalizing the result based on the new alpha value
5. It returns an object with the new red, green, blue, and alpha values.

This function effectively combines two colors, resulting in a darker output where the darker of the two input colors takes precedence in each channel.

### Third Party Libaries

No, this `darken` function does not use any third-party APIs or libraries; it only uses built-in JavaScript functionality and mathematical operations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `darken` function:

```javascript
// Define two color objects
const sourceColor = { r: 0.8, g: 0.5, b: 0.2, a: 0.7 };
const destinationColor = { r: 0.3, g: 0.6, b: 0.9, a: 0.8 };

// Call the darken function
const result = darken(sourceColor, destinationColor);

// Optional: Specify the opacity (ops) parameter
// const result = darken(sourceColor, destinationColor, 0.5);

// Log the result
console.log("Darkened color:", result);
```

In this example:

1. We define two color objects, `sourceColor` and `destinationColor`, each with `r`, `g`, `b`, and `a` properties representing the red, green, blue, and alpha (opacity) values respectively. These values should be in the range of 0 to 1.

2. We call the `darken` function, passing `sourceColor` as the first argument and `destinationColor` as the second argument.

3. The function returns a new color object with the darkened values.

4. We log the result to the console.

Note that you can also specify an optional third parameter `ops` to adjust the opacity of the source color. If not provided, it defaults to 1.

Remember that this function expects color values to be in the range of 0 to 1, not 0 to 255. If your color values are in the 0-255 range, you'll need to normalize them before passing them to the function, and then denormalize the result if needed.


  