

  

  
---
# srcOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `srcOver` function in this code snippet implements the "source over" alpha compositing operation, which is a common method for blending two colors with transparency. Here's a concise explanation:

1. It takes two color objects (`src` and `dst`) with RGBA values and an optional opacity parameter (`ops`).
2. It adjusts the source alpha based on the opacity.
3. It calculates the resulting alpha value by combining the source and destination alphas.
4. For each color channel (R, G, B), it computes the blended value using the formula: (source * source_alpha + destination * destination_alpha * (1 - source_alpha)) / resulting_alpha.
5. It returns a new color object with the blended RGBA values.

This function essentially determines how a new color (source) should be composited on top of an existing color (destination), taking into account their transparency levels.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it's a pure JavaScript implementation of the "source over" blending mode using basic arithmetic operations.

### Code Example

Certainly! Here's a brief example of how to use the `srcOver` function:

```javascript
// Define two colors: a source color and a destination color
const sourceColor = { r: 255, g: 0, b: 0, a: 0.5 }; // Semi-transparent red
const destColor = { r: 0, g: 0, b: 255, a: 1 }; // Solid blue

// Call the srcOver function to blend the colors
const blendedColor = srcOver(sourceColor, destColor);

// Log the result
console.log(blendedColor);
```

In this example:

1. We define two colors:
   - `sourceColor`: A semi-transparent red (rgba(255, 0, 0, 0.5))
   - `destColor`: A solid blue (rgba(0, 0, 255, 1))

2. We call the `srcOver` function, passing the source color and destination color as arguments.

3. The function calculates the blended color using the "source over" compositing operation.

4. The result is stored in `blendedColor`, which will be an object containing the r, g, b, and a values of the resulting color.

5. We log the result to the console.

The output will be an object representing the blended color, with values for red, green, blue, and alpha channels.

You can also use the optional third parameter `ops` to adjust the opacity of the source color before blending:

```javascript
const blendedColorWithReducedOpacity = srcOver(sourceColor, destColor, 0.7);
```

This would reduce the opacity of the source color to 70% before blending.

# dstOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
Certainly! The `dstOver` function in this code snippet implements the "destination-over" compositing operation, which is a blending mode used in computer graphics. Here's a concise explanation:

1. It takes two objects, `src` (source) and `dst` (destination), representing pixels with RGBA values.
2. An optional `ops` parameter controls the opacity of the source.
3. It calculates the resulting alpha (`a`) by combining the source and destination alpha values.
4. For each color channel (r, g, b), it computes the blended value using the formula:
   (destination * destination_alpha + source * source_alpha * (1 - destination_alpha)) / resulting_alpha
5. The function returns an object with the blended RGBA values.

This operation is used to composite the source pixel over the destination pixel, taking into account their respective alpha values and the optional opacity parameter.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it's a self-contained implementation of the "destination-over" blending mode using basic JavaScript operations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `dstOver` function:

```javascript
// Define two colors: source and destination
const sourceColor = { r: 255, g: 0, b: 0, a: 0.5 }; // Semi-transparent red
const destColor = { r: 0, g: 0, b: 255, a: 1 }; // Opaque blue

// Call the dstOver function
const result = dstOver(sourceColor, destColor);

// Log the result
console.log("Resulting color:");
console.log(`R: ${result.r}`);
console.log(`G: ${result.g}`);
console.log(`B: ${result.b}`);
console.log(`A: ${result.a}`);
```

In this example:

1. We define two colors: a semi-transparent red (`sourceColor`) and an opaque blue (`destColor`).
2. We call the `dstOver` function with these two colors as arguments.
3. The function performs the destination-over compositing operation.
4. We log the resulting color values.

The `dstOver` function implements the "destination-over" compositing operation, where the source color is composited behind the destination color. The resulting color will be a blend of the two input colors, with the exact values depending on their alpha channels.

You can also provide an optional third argument to adjust the opacity of the source color:

```javascript
// Using the optional opacity parameter
const result2 = dstOver(sourceColor, destColor, 0.8);
```

This would reduce the opacity of the source color to 80% of its original value before compositing.

# multiply node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
In this code snippet, `multiply` is a function that performs a blending operation between two color values (source and destination) using the "multiply" blending mode. Here's a concise explanation:

1. It takes two objects (`src` and `dst`) representing colors with RGBA components.
2. An optional `ops` parameter allows for adjusting the source alpha.
3. It calculates the resulting alpha (`a`) and color components (`r`, `g`, `b`) using the multiply blending formula.
4. The function returns a new object with the blended RGBA values.

This multiply blend mode typically darkens the image by multiplying the source and destination colors, resulting in a darker output.

### Third Party Libaries

undefined

### Code Example

undefined

---
# add node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
In this code snippet, `add` is a function that performs color blending using the "addition" blend mode. Here's a concise explanation:

1. It takes two color objects (`src` and `dst`) as input, each with `r`, `g`, `b`, and `a` properties representing red, green, blue, and alpha channels.

2. An optional `ops` parameter controls the intensity of the blend.

3. The function calculates a new alpha value `a` by combining the alpha values of both colors.

4. It then computes new red, green, and blue values by adding the weighted color components of both input colors and normalizing them by the new alpha value.

5. Finally, it returns a new color object with the blended `r`, `g`, `b`, and `a` values.

This blend mode tends to lighten the resulting color, as it adds the color components together.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses standard JavaScript syntax and arithmetic operations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `add` function:

```javascript
// Define two color objects
const sourceColor = { r: 0.5, g: 0.3, b: 0.7, a: 0.8 };
const destinationColor = { r: 0.2, g: 0.6, b: 0.4, a: 0.5 };

// Call the add function
const result = add(sourceColor, destinationColor);

// Optional: Specify an opacity multiplier (default is 1)
// const result = add(sourceColor, destinationColor, 0.5);

// Log the result
console.log(result);
```

In this example:

1. We define two color objects, `sourceColor` and `destinationColor`, each with `r`, `g`, `b`, and `a` properties representing red, green, blue, and alpha (opacity) values respectively. These values should be in the range of 0 to 1.

2. We call the `add` function, passing `sourceColor` as the `src` parameter and `destinationColor` as the `dst` parameter.

3. The function performs the color addition operation and returns a new color object.

4. We log the result to the console.

5. Optionally, you can pass a third argument to the `add` function to adjust the opacity of the source color before adding. If not provided, it defaults to 1.

The `add` function combines the colors using the "normal" or "over" blending mode, which is a common method for compositing transparent colors. The resulting color object will have new `r`, `g`, `b`, and `a` values representing the blended color.


  