

  

  
---
# srcOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
The `srcOver` function in this code snippet implements the "source over" alpha compositing operation. This is a common blending mode used in computer graphics to combine a source image (src) with a destination image (dst).

Here's a concise explanation:

1. It takes two color objects (src and dst) with r, g, b, and a components.
2. An optional opacity parameter (ops) can be provided to adjust the source alpha.
3. It calculates the new alpha value by combining the source and destination alphas.
4. For each color channel (r, g, b), it computes the blended value using the formula:
   (src_color * src_alpha + dst_color * dst_alpha * (1 - src_alpha)) / new_alpha
5. This formula ensures that the source color is placed "over" the destination color, taking into account the alpha values of both.
6. The function returns a new color object with the blended r, g, b, and a values.

This operation is commonly used in image editing and rendering to combine layers or draw partially transparent objects over a background.

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses standard JavaScript syntax and arithmetic operations to perform color blending calculations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `srcOver` function:

```javascript
// Define source and destination colors
const sourceColor = { r: 255, g: 0, b: 0, a: 0.5 }; // Semi-transparent red
const destColor = { r: 0, g: 0, b: 255, a: 1 }; // Opaque blue

// Call the srcOver function
const resultColor = srcOver(sourceColor, destColor);

// Log the result
console.log("Resulting color:", resultColor);

// You can also specify an optional opacity value (default is 1)
const resultWithCustomOpacity = srcOver(sourceColor, destColor, 0.8);
console.log("Result with custom opacity:", resultWithCustomOpacity);
```

In this example:

1. We define two colors: a semi-transparent red (`sourceColor`) and an opaque blue (`destColor`).
2. We call the `srcOver` function with these two colors as arguments.
3. The function returns the resulting color after applying the source-over blending operation.
4. We log the result to the console.
5. We also demonstrate how to use the optional third parameter to adjust the opacity of the source color before blending.

The `srcOver` function implements the "source over destination" blending mode, which is a common compositing operation. It calculates how the source color should be blended on top of the destination color, taking into account the alpha (transparency) values of both colors.

When you run this code, you'll see the resulting color values printed to the console. The exact values will depend on the input colors, but they will represent the color you'd see if you were to overlay the semi-transparent red on top of the blue.

# dstOver node_modules/@jimp/core/dist/composite/composite-modes.js
## Imported Code Object
undefined

### Third Party Libaries

No, this function does not use any third-party APIs or libraries; it only uses basic JavaScript operations and math calculations.

### Code Example

Certainly! Here's a brief code example demonstrating how to use the `dstOver` function:

```javascript
// Define two color objects with RGBA values
const sourceColor = { r: 255, g: 0, b: 0, a: 0.5 }; // Semi-transparent red
const destinationColor = { r: 0, g: 0, b: 255, a: 1 }; // Opaque blue

// Call the dstOver function
const result = dstOver(sourceColor, destinationColor);

// Log the result
console.log(result);
```

In this example:

1. We define two color objects: `sourceColor` (semi-transparent red) and `destinationColor` (opaque blue).

2. We call the `dstOver` function, passing `sourceColor` as the source and `destinationColor` as the destination.

3. The function performs the destination-over compositing operation and returns the resulting color.

4. We log the result to the console.

The `dstOver` function implements the "destination-over" compositing operation, where the source color is composited behind the destination color. The resulting color will be a blend of the two input colors, with the destination color appearing on top of the source color.

Note that the third parameter `ops` is optional and defaults to 1 if not provided. You can include it if you want to adjust the opacity of the source color before compositing:

```javascript
const result = dstOver(sourceColor, destinationColor, 0.8); // Reduce source opacity to 80%
```

This would reduce the opacity of the source color to 80% before performing the compositing operation.


  

  